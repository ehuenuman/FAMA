{% extends 'teacher/base.html' %}
{%load staticfiles %}

{% block extracss%}
{% endblock %}

{% block extrajs %}
<script src="{% static 'js/library/jquery.simplePagination.js' %}"></script>
<script src="{% static 'js/library/js.cookie.js' %}"></script>
<script src="{% static 'js/library/Blob.js' %}"></script>
<script src="{% static 'js/library/FileSaver.min.js' %}"></script>
<script src="{% static 'js/library/jquery.fileDownload.js' %}"></script>
<script src="{% static 'js/question.manage.js' %}"></script>
<script src="{% static 'js/question.process_type.js' %}"></script>
<script src="{% static 'js/teacher.fill_preview_modal.js' %}"></script>
<script src="{% static 'js/teacher.questions.js' %}"></script>
{% endblock %}

{% block title %}
MAs Play - Mis Preguntas
{% endblock %}

{% block page-title %}
Mis Preguntas
{% endblock %}

{% block content %}
<div class="row">
  <div class="col s12">    
    <div style="overflow-x:auto;">
      <table id="miTabla-mispreguntas" class="col s12 bordered card-box">
        <thead>
          <tr>
            <th class="center-align" style="width: 105px; min-width: 105px;">Compartir</th>
            <th class="center-align" style="min-width: 100px;">C&oacute;digo</th>
            <th class="left-align" style="min-width: 180px;">Tipo</th>
            <th class="left-align" style="min-width: 150px;">T&iacute;tulo</th>
            <th class="center-align" style="min-width: 100px;">Fecha</th>            
            <th class="center-align" style="width: 80px;">Descargar</th>
            <th class="center-align" style="width: 80px;">Visualizar</th>            
          </tr>
        </thead>
      
        <tbody class="galler">
          {% if questions %}
            {% for question in questions %}
            <tr id='{{question.id}}'>
              {% if question.share == 0 %}
                <td>
                  <div class="switch">
                    <label>No<input type="checkbox" id='{{question.id}}'><span class="lever"></span>Si</label>
                  </div>
                </td>
                <td class="codigo center-align" id='{{question.id}}'></td>
              {% else %}                
                <td>
                  <div class="switch">
                    <label>No<input checked="" type="checkbox" id='{{question.id}}'><span class="lever"></span>Si</label>
                  </div>
                </td>
                <td class="codigo center-align" id='{{question.id}}'>{{question.code}}</td>
              {% endif %}
              <td>{{question.spanish_type}}</td>
              <td>{{question.title}}</td>
              <td class="center-align">{{question.incorporation_date|date:"Y-m-d"}}</td>
              <td class="center-align">
                <button style="font-size:13px;" class="waves-effect waves-light btn" id='{{question.id}}' data-action="download" type="button">
                  <i class="fa fa-download" aria-hidden="true"></i>
                </button>
              </td>
              <td class="center-align">
                <button style="font-size:13px;" class="waves-effect waves-light btn" id='{{question.id}}' data-action="preview">
                  <i class="fa fa-eye" aria-hidden="true"></i>
                </button>
              </td>        
            </tr>
            {% endfor %}
          {% endif %}
        </tbody>      
      </table>
    </div>
    <div >
      <center><div class="pagination"></div></center>
    </div>
  </div>
</div>

<div id="preview_modal" class="modal modal-fixed-footer">
  <div class="modal-content">
    <div class="row">
      <div id="banner_preview" class="col s12">
        <div class="col s6 teal center-align">
          <h5 class="white-text"></h5>
        </div>
        <div class="col s6 center-align">
          <h5><i>Vista Previa</i></h5>
        </div>
      </div>
    </div>
    <div class="row">
      <div id="content_preview" class="col s12"></div>
    </div>
  </div>
  <div class="modal-footer">
    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Cerrar</a>
  </div>
</div>
{% endblock %}

{% block footer %}
{% endblock %}

{% block js %}
<script>
  $(document).ready(function() {
    $("button").parents('td').css("padding-bottom", "0").css("padding-top", "0");
    $('#nav-mobile ul.collapsible li#list_questions').addClass('active').parent().parent().show().parent().addClass('active');

    /* Pagination */
    var perPage = 7;
    var opened = 1;
    var onClass = 'active';
    var paginationSelector = '.pagination';
    $('.galler').simplePagination(perPage, opened, onClass, paginationSelector);    
  });
</script>
{% endblock %}